<div class="page-content-wrapper">
    <div class="page-content">
        <div class="row">
            <div class="col-md-12 col-xs-12">
                <div class="hr">
                    <h4 class="text-info">Branch
                        <div class="pull-right">
                            <a routerLink="/dashboard/setting/branch/add">
                                <button class="btn mt-sweetalert btn green-meadow" data-title="Sweet Alerts with Icons"
                                        data-message="Success Icon" data-type="success" data-allow-outside-click="true"
                                        data-confirm-button-class="btn-success"><i class="fa fa-plus"></i> New
                                </button>
                            </a>
                            <span><button class="btn btn-default btn-outline"> <i
                                    class=" icon-clock"></i> Print </button></span>
                        </div>
                    </h4>
                </div>
                <div class="">
                    <form [formGroup]="searchForm">
                    <div class=" patient-profile hr portlet padding-10 light bordered view-pro">
                        <div class="col-md-3">
                            <div class="form-group font-siz11">
                                <label>Branch</label>
                                <select class="form-control"
                                        (change)="getSelectedBranch($event.target.value)"
                                        formControlName="branch" placeholder="Select Branch">
                                       <option *ngFor="let br of branchesList" [value]="br">
                                        {{br}}
                                    </option>

                                </select>
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="form-group font-siz11">
                                <label>Department:</label>
                                <select class="form-control"
                                        (change)="getSelectedDepartment($event.target.value)"
                                        formControlName="department" placeholder="Select Department">
                                    <option *ngFor="let dp of departments" [value]="dp.name">
                                        {{dp.name}}
                                    </option>

                                </select>
                            </div>
                        </div>

                        <div class="col-md-1">
                            <div class="form-group mrgn-top24">
                                <button type="button" (click)="searchData(searchForm.value)" class="btn blue">Search</button>
                            </div>
                        </div>
                    </div>
                    </form>
                </div>

                <div class="table-scrollable">
                    <table class="table table-striped table-hover table-checkable dataTable no-footer"
                           id="datatable_ajax" aria-describedby="datatable_ajax_info" role="grid">
                        <thead>
                        <tr role="row" class="off-wite-bg">
                            <th width="12%" class="sorting_disabled" rowspan="1" colspan="1"> Name</th>
                            <th width="12%" class="sorting_disabled" rowspan="1" colspan="1"> Primary Doctor</th>
                            <th width="14%" class="sorting_disabled" rowspan="1" colspan="1"> Country</th>
                            <th width="14%" class="sorting_disabled" rowspan="1" colspan="1"> City</th>
                            <th width="14%" class="sorting_disabled" rowspan="1" colspan="1"> Number of Exam Rooms</th>
                            <th width="12%" class="sorting_disabled" rowspan="1" colspan="1"> Action</th>
                        </tr>

                        <tr role="row" class="filter" *ngFor="let item of data">

                            <td rowspan="1" colspan="1">{{item.name}}</td>

                            <!--<span style="display: none;" *ngFor="let br of item.branches"></span>-->

                            <td class="sorting_disabled" rowspan="1" colspan="1">
                                {{item.country}}
                            </td>
                            <td class="sorting_disabled" rowspan="1" colspan="1">
                                {{item.country}}
                            </td>
                            <td rowspan="1" colspan="1">{{item.city}}</td>
                            <td rowspan="1" colspan="1">{{item.rooms}}</td>
                            <td rowspan="1" colspan="1">

                                <button (click)="updateBranch(item.id)" class="btn btn-default btn-outline btn-sm"><i class="fa fa-pencil"></i></button>
                                <button (click)="deleteBranch(item.id)" class="btn btn-default btn-outline btn-sm"><i class="fa fa-remove"></i></button>
                            </td>
                        </tr>
                        </thead>
                    </table>
                </div>
            </div>
        </div>
        <div class="clearfix"></div>
    </div>


    <div class="row">
        <div class="col-md-12 col-xs-12 col-sm-12">
            <div class="dataTables_paginate paging_bootstrap_full_number pull-right" id="sample_1_2_paginate">
                <ul class="pagination" style="visibility: visible;">
                    <li class="prev">
                        <a title="First" *ngIf="pages.length >= 2 && currPage > 0"
                           (click)="getBranchFromServer(0)">
                            <i class="fa fa-angle-double-left"></i>
                        </a>
                    </li>
                    <li class="prev">
                        <a title="Prev" *ngIf="prePage"
                           (click)="getBranchFromServer(currPage - 1)">
                            <i class="fa fa-angle-left"></i>
                        </a>
                    </li>
                    <li [ngClass]="{active: page === currPage}"
                        *ngFor="let page of pages">
                        <a (click)="getBranchFromServer(page)">{{page+1}}</a>
                    </li>
                    <li class="next" *ngIf="nextPage">
                        <a (click)="getUserFromServer(currPage + 1)" title="Next">
                            <i class="fa fa-angle-right"></i>
                        </a>
                    </li>
                    <li class="next" *ngIf="pages.length >= 2 && currPage < pages[pages.length - 1]">
                        <a (click)="getBranchFromServer(pages.length - 1)" title="Last">
                            <i class="fa fa-angle-double-right"></i>
                        </a>
                    </li>
                </ul>
            </div>
            <p></p>
        </div>
    </div>

</div>